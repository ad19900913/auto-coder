# è‡ªåŠ¨åŒ–AIä»»åŠ¡æ‰§è¡Œç³»ç»Ÿ - å…¨å±€é…ç½®æ–‡ä»¶
# ç‰ˆæœ¬: 1.0
# æ›´æ–°æ—¶é—´: 2025-01-20

# ç³»ç»ŸåŸºæœ¬ä¿¡æ¯
name: "è‡ªåŠ¨åŒ–AIä»»åŠ¡æ‰§è¡Œç³»ç»Ÿ"
version: "1.0.0"
max_concurrent_tasks: 5

# AIæœåŠ¡é…ç½®
ai_services:
  default: "claude"  # é»˜è®¤AIæœåŠ¡
  claude:
    api_key: "${CLAUDE_API_KEY}"
    base_url: "https://api.anthropic.com"
    model: "claude-3-sonnet-20240229"
    max_tokens: 4000
    temperature: 0.1
    
    # é«˜çº§å‚æ•°
    parameters:
      temperature: 0.1
      max_tokens: 4000
      top_p: 0.9
      frequency_penalty: 0.0
      presence_penalty: 0.0
      stop_sequences: []
    
    # ä»»åŠ¡ç±»å‹ç‰¹å®šå‚æ•°
    task_parameters:
      coding:
        temperature: 0.05
        max_tokens: 6000
      review:
        temperature: 0.1
        max_tokens: 3000
      requirement_review:
        temperature: 0.15
        max_tokens: 5000
  
  deepseek:
    api_key: "${DEEPSEEK_API_KEY}"
    base_url: "https://api.deepseek.com"
    model: "deepseek-coder"
    max_tokens: 4000
    temperature: 0.1
    
    # é«˜çº§å‚æ•°
    parameters:
      temperature: 0.1
      max_tokens: 4000
      top_p: 0.9
      repetition_penalty: 1.0
      top_k: 40
    
    # ä»»åŠ¡ç±»å‹ç‰¹å®šå‚æ•°
    task_parameters:
      coding:
        temperature: 0.05
        max_tokens: 6000
      review:
        temperature: 0.1
        max_tokens: 3000
      requirement_review:
        temperature: 0.15
        max_tokens: 5000

# Gité…ç½®
git:
  default: "github"  # é»˜è®¤Gitå¹³å°
  github:
    token: "${GITHUB_TOKEN}"
    username: "${GITHUB_USERNAME}"
  gitlab:
    token: "${GITLAB_TOKEN}"
    base_url: "${GITLAB_BASE_URL}"
    username: "${GITLAB_USERNAME}"  # æ·»åŠ ç”¨æˆ·åé…ç½®

# ç¼–ç è§„èŒƒé…ç½®ï¼ˆæŒ‰è¯­è¨€åˆ†ç±»ï¼‰
coding_standards:
  java:
    file_path: "./standards/java_coding_standards.md"
    enabled: true
    description: "Javaç¼–ç è§„èŒƒ"
    version: "1.0"
    last_updated: "2025-01-20"
  
  python:
    file_path: "./standards/python_coding_standards.md"
    enabled: true
    description: "Pythonç¼–ç è§„èŒƒ"
    version: "1.0"
    last_updated: "2025-01-20"
  
  frontend:
    file_path: "./standards/frontend_coding_standards.md"
    enabled: true
    description: "å‰ç«¯ç¼–ç è§„èŒƒ"
    version: "1.0"
    last_updated: "2025-01-20"
  
  general:
    file_path: "./standards/general_coding_standards.md"
    enabled: true
    description: "é€šç”¨ç¼–ç è§„èŒƒ"
    version: "1.0"
    last_updated: "2025-01-20"
  
  redlines:
    file_path: "./standards/redline_standards.md"
    enabled: true
    description: "ç¼–ç çº¢çº¿è§„èŒƒ"
    version: "1.0"
    last_updated: "2025-01-20"

# ä»»åŠ¡è¶…æ—¶æ—¶é—´é…ç½®
task_timeouts:
  coding: 1800      # 30åˆ†é’Ÿ
  review: 900       # 15åˆ†é’Ÿ
  doc: 600          # 10åˆ†é’Ÿ
  requirement_review: 1200  # 20åˆ†é’Ÿ
  custom: 1800      # 30åˆ†é’Ÿ
  
  global:
    default: 600    # é»˜è®¤è¶…æ—¶æ—¶é—´
    max: 7200       # æœ€å¤§è¶…æ—¶æ—¶é—´ï¼ˆ2å°æ—¶ï¼‰
    warning_threshold: 0.8  # è¶…æ—¶è­¦å‘Šé˜ˆå€¼

# é‡è¯•é…ç½®
retry_config:
  max_attempts: 3
  base_delay: 60
  max_delay: 3600
  backoff_multiplier: 2
  jitter: 0.1
  
  task_specific:
    coding:
      max_attempts: 5
      base_delay: 120
    git_operations:
      max_attempts: 3
      base_delay: 30

# çŠ¶æ€æ–‡ä»¶ç®¡ç†é…ç½®
state_management:
  cleanup_enabled: true
  retention_days: 90
  archive_enabled: true
  archive_path: "./archives/states"
  cleanup_schedule: "0 2 * * *"  # æ¯å¤©å‡Œæ™¨2ç‚¹æ¸…ç†
  
  cleanup_strategy:
    completed_tasks: "archive"
    failed_tasks: "archive"
    running_tasks: "skip"
    expired_tasks: "delete"
  
  archive:
    compression: true
    compression_format: "zip"
    max_archive_size: "100MB"
    archive_retention_days: 365
  
  state_file:
    max_size: "10MB"
    backup_enabled: true
    backup_count: 3
    backup_interval: "1h"

# é€šçŸ¥æ¨¡æ¿é…ç½®
notification_templates:
  variables:
    task_name: "{task_name}"
    task_type: "{task_type}"
    task_id: "{task_id}"
    duration: "{duration}"
    error_message: "{error_message}"
    files_count: "{files_count}"
    issues_count: "{issues_count}"
    inconsistencies_count: "{inconsistencies_count}"
  
  common:
    task_start: "ğŸš€ ä»»åŠ¡ {task_name} ({task_type}) å¼€å§‹æ‰§è¡Œ"
    task_complete: "âœ… ä»»åŠ¡ {task_name} æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ {duration}"
    task_error: "âŒ ä»»åŠ¡ {task_name} æ‰§è¡Œå¤±è´¥: {error_message}"
  
  task_specific:
    coding:
      start: "ğŸ”§ ç¼–ç ä»»åŠ¡ {task_name} å¼€å§‹æ‰§è¡Œ"
      complete: "âœ… ç¼–ç ä»»åŠ¡ {task_name} å®Œæˆï¼Œç”Ÿæˆäº† {files_count} ä¸ªæ–‡ä»¶"
      error: "âŒ ç¼–ç ä»»åŠ¡ {task_name} å¤±è´¥: {error_message}"
      review_required: "ğŸ” ç¼–ç ä»»åŠ¡ {task_name} å®Œæˆï¼Œç­‰å¾…ä»£ç å®¡æŸ¥"
    
    review:
      start: "ğŸ” ä»£ç å®¡æŸ¥ä»»åŠ¡ {task_name} å¼€å§‹æ‰§è¡Œ"
      complete: "âœ… ä»£ç å®¡æŸ¥å®Œæˆï¼Œå‘ç° {issues_count} ä¸ªé—®é¢˜"
      error: "âŒ ä»£ç å®¡æŸ¥å¤±è´¥: {error_message}"
      issues_found: "âš ï¸ ä»£ç å®¡æŸ¥å‘ç° {issues_count} ä¸ªé—®é¢˜ï¼Œéœ€è¦é‡æ–°ç¼–ç "
      no_issues: "âœ… ä»£ç å®¡æŸ¥é€šè¿‡ï¼Œä»»åŠ¡å®Œæˆ"
    
    doc:
      start: "ğŸ“š æ–‡æ¡£ç”Ÿæˆä»»åŠ¡ {task_name} å¼€å§‹æ‰§è¡Œ"
      complete: "âœ… æ–‡æ¡£ç”Ÿæˆå®Œæˆï¼Œè¾“å‡ºåˆ° {output_path}"
      error: "âŒ æ–‡æ¡£ç”Ÿæˆå¤±è´¥: {error_message}"
    
    requirement_review:
      start: "ğŸ“‹ éœ€æ±‚è¯„å®¡ä»»åŠ¡ {task_name} å¼€å§‹æ‰§è¡Œ"
      complete: "âœ… éœ€æ±‚è¯„å®¡å®Œæˆï¼Œå‘ç° {inconsistencies_count} ä¸ªä¸ä¸€è‡´ç‚¹"
      error: "âŒ éœ€æ±‚è¯„å®¡å¤±è´¥: {error_message}"
      critical_issues: "ğŸš¨ éœ€æ±‚è¯„å®¡å‘ç°å…³é”®é—®é¢˜ï¼Œè¯·åŠæ—¶å¤„ç†"
    
    custom:
      start: "âš™ï¸ è‡ªå®šä¹‰ä»»åŠ¡ {task_name} å¼€å§‹æ‰§è¡Œ"
      complete: "âœ… è‡ªå®šä¹‰ä»»åŠ¡ {task_name} æ‰§è¡Œå®Œæˆ"
      error: "âŒ è‡ªå®šä¹‰ä»»åŠ¡ {task_name} æ‰§è¡Œå¤±è´¥: {error_message}"
  
  notification_levels:
    info: ["task_start", "task_complete"]
    warning: ["review_required", "issues_found"]
    error: ["task_error", "critical_issues"]
  
  channels:
    dingtalk:
      enabled: true
      webhook_url: "${DINGTALK_WEBHOOK}"
      secret: "${DINGTALK_SECRET}"
      at_users: ["å¼ ä¸‰", "æå››"]
      at_all: false
    
    email:
      enabled: false
      smtp_server: ""
      smtp_port: 587
      username: ""
      password: ""
    
    webhook:
      enabled: false
      url: ""
      headers: {}

# é€šçŸ¥é…ç½®
notification:
  dingtalk:
    webhook_url: "${DINGTALK_WEBHOOK}"
    secret: "${DINGTALK_SECRET}"
    at_users: ["å¼ ä¸‰", "æå››"]

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"
  retention_days: 30
  max_file_size: "10MB"

# ç³»ç»Ÿé…ç½®
system:
  work_dir: "./states"
  output_dir: "./outputs"
  max_concurrent_tasks: 5
  default_timeout: 300
