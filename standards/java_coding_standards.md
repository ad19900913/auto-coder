---
title: "Java编码规范 v1.0"
version: "1.0"
last_updated: "2025-01-20"
language: "java"
framework: "spring-boot"
---

# Java编码规范 v1.0

## 命名规范

### 类名
- 使用PascalCase，如 `UserService`、`OrderController`
- 接口名可以不加前缀，如 `UserService` 而不是 `IUserService`
- 抽象类名以 `Abstract` 开头，如 `AbstractBaseService`

### 方法名
- 使用camelCase，如 `getUserById`、`createOrder`
- 动词开头，表达动作含义
- 布尔方法使用 `is`、`has`、`can` 等前缀

### 变量名
- 使用camelCase，如 `userName`、`orderList`
- 常量使用UPPER_SNAKE_CASE，如 `MAX_RETRY_COUNT`
- 避免使用单字母变量名（循环计数器除外）

### 包名
- 使用小写字母，如 `com.example.user`
- 避免使用下划线或连字符

## 代码结构

### 类成员顺序
1. 静态常量
2. 实例变量
3. 构造方法
4. 公共方法
5. 受保护方法
6. 私有方法

### 方法设计
- 单个方法不超过50行
- 方法参数不超过5个
- 单一职责原则：一个方法只做一件事

### 类设计
- 单个类不超过500行
- 遵循单一职责原则
- 优先使用组合而非继承

## 异常处理

### 异常捕获
- 使用具体的异常类型，避免捕获通用Exception
- 记录详细的错误日志，包含上下文信息
- 对外接口返回统一的错误响应格式

### 异常抛出
- 检查异常转换为运行时异常
- 提供有意义的异常消息
- 包含必要的上下文信息

## 性能规范

### 集合使用
- 初始化集合时指定容量
- 优先使用 `ArrayList` 而非 `LinkedList`
- 使用 `HashMap` 而非 `Hashtable`

### 字符串处理
- 使用 `StringBuilder` 进行字符串拼接
- 避免在循环中创建字符串对象
- 优先使用字符串常量池

### 数据库操作
- 避免在循环中进行数据库查询
- 使用批量操作减少数据库交互
- 合理使用数据库连接池

## 红线规范

### 禁止使用
- 禁止使用 `System.out.println()` 输出日志
- 禁止在 `finally` 块中 `return`
- 禁止使用 `Thread.sleep()` 进行业务逻辑控制
- 禁止使用 `new Date()` 获取当前时间

### 必须遵循
- 必须使用日志框架记录日志
- 必须处理所有检查异常
- 必须验证输入参数
- 必须释放资源（使用try-with-resources）

## 日志规范

### 日志级别
- ERROR：系统错误，需要立即处理
- WARN：警告信息，可能存在问题
- INFO：一般信息，记录重要操作
- DEBUG：调试信息，开发时使用

### 日志内容
- 包含操作类型和结果
- 包含关键参数信息
- 包含执行时间（重要操作）
- 包含错误堆栈（异常情况）

## 测试规范

### 单元测试
- 测试覆盖率不低于80%
- 每个公共方法都要有测试
- 使用有意义的测试方法名
- 测试数据要独立，避免相互影响

### 集成测试
- 测试组件间的协作
- 使用测试数据库
- 测试完成后清理数据
